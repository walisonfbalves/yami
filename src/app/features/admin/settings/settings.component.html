<div class="p-8 max-w-4xl mx-auto font-display">
    
    <header class="mb-8">
        <h1 class="text-3xl font-heading font-bold text-white tracking-tight mb-2">Configurações da Loja</h1>
        <p class="text-gray-400">Gerencie as informações principais do seu estabelecimento.</p>
    </header>

    <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="space-y-6">
        
        <!-- Identidade -->
        <ui-card>
            <div class="flex items-center gap-3 mb-6 border-b border-white/5 pb-4">
                <span class="material-symbols-outlined text-amber-500">storefront</span>
                <h2 class="text-lg font-bold text-white">Identidade</h2>
            </div>

            <div class="grid md:grid-cols-2 gap-6 mb-6">
                
                <ui-input
                    label="Nome da Loja"
                    [control]="getControl('storeName')"
                    placeholder="Ex: Yami Burger">
                </ui-input>

                <ui-input
                    label="Slug (URL)"
                    [control]="getControl('storeSlug')"
                    placeholder="yami-backend"
                    prefix="yami.com/">
                </ui-input>

                <div class="md:col-span-2">
                     <ui-textarea
                        label="Biografia"
                        [control]="getControl('storeBio')"
                        placeholder="Uma breve descrição da sua loja..."
                        [maxLength]="160">
                     </ui-textarea>
                </div>
            </div>
        </ui-card>

        <!-- Funcionamento -->
        <ui-card>
            <div class="flex items-center gap-3 mb-6 border-b border-white/5 pb-4">
                <span class="material-symbols-outlined text-blue-500">schedule</span>
                <h2 class="text-lg font-bold text-white">Funcionamento</h2>
            </div>

            <div class="space-y-6">
                <!-- Status da Loja -->
                <ui-switch
                   [label]="isOpen ? 'Loja Aberta' : 'Loja Fechada'"
                   description="Controle se os clientes podem fazer novos pedidos agora."
                   [control]="getControl('isOpen')">
                </ui-switch>

                 <div class="grid md:grid-cols-2 gap-6">
                     <ui-input
                        label="Tempo de Preparo"
                        [control]="getControl('prepTime')"
                        placeholder="40-50"
                        suffix="minutos">
                    </ui-input>
                 </div>
            </div>
        </ui-card>

        <!-- Financeiro -->
        <ui-card>
             <div class="flex items-center gap-3 mb-6 border-b border-white/5 pb-4">
                <span class="material-symbols-outlined text-green-500">payments</span>
                <h2 class="text-lg font-bold text-white">Financeiro & Entrega</h2>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6">
                 <ui-input
                    label="Taxa de Entrega"
                    [control]="getControl('deliveryFee')"
                    type="number"
                    prefix="R$">
                </ui-input>

                 <ui-input
                    label="Pedido Mínimo"
                    [control]="getControl('minOrder')"
                    type="number"
                    prefix="R$">
                </ui-input>

                 <ui-input
                    label="Chave PIX"
                    [control]="getControl('pixKey')"
                    placeholder="00.000.000/0001-00">
                </ui-input>
            </div>
        </ui-card>

        <!-- Actions -->
        <div class="flex justify-end pt-4">
            <ui-button 
                type="submit" 
                variant="primary" 
                size="lg"
                [loading]="false"
                icon="save">
                Salvar Alterações
            </ui-button>
        </div>

    </form>

    <!-- Toast Notification -->
    <div *ngIf="showToast" class="fixed bottom-8 right-8 bg-emerald-500 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in z-50">
        <span class="material-symbols-outlined">check_circle</span>
        <span class="font-bold">Alterações salvas com sucesso!</span>
    </div>

</div>
